---
lab:
  title: '演習: ドメイン名を内部的に記録して解決する'
  module: Guided Project - Configure secure access to workloads with Azure virtual networking services
---

# ラボ: ドメイン名を内部的に記録して解決する

## シナリオ

組織には、仮想ネットワーク内で内部的にドメイン名を記録して解決するためのワークロードが必要です。 仮想ネットワーク内の仮想マシンは、IP ではなくドメイン名を内部通信に使用できます。 その場合、ドメイン名は仮想ネットワーク リンクを介してプライベート DNS ゾーンで解決されます。 



### アーキテクチャの図

![仮想ネットワークにリンクされた Azure DNS の図。](../Media/task-5.png)

### スキル タスク
- プライベート DNS ゾーンを作成および構成する。 
- DNS レコードを作成して構成する。
- 仮想ネットワークで DNS 設定を構成する。

## 演習の手順

### プライベート DNS ゾーンの作成

Azure プライベート DNS は、信頼性が高くセキュリティで保護された DNS サービスを提供し、カスタムの DNS ソリューションの追加を必要とせずに、仮想ネットワークでドメイン名を管理および解決します。 プライベート DNS ゾーンを使用すると、現在利用可能な Azure で提供される名前ではなく、独自のカスタム ドメイン名を使用できます。

1. ポータルの検索バーの検索テキストボックスで「**プライベート DNS ゾーン**」と入力し、その結果から [プライベート DNS ゾーン] を選択します。

1. **[+ 作成]** を選択します。

1. [プライベート DNS ゾーンの作成] の **[基本]** タブで、次の表に示すように情報を入力します。

    | プロパティ | 値    |
    |:---------|:---------|
    |サブスクリプション|**サブスクリプションを選択します**|
    |Resource group|**(既存のRG1で始まるリソースグループ)**|
    |名前|**contoso.com**|
    |リージョン|**米国東部**|

1. **[確認および作成]** を選択し、次に **[作成]** を選択します。

### プライベート DNS ゾーンへの仮想ネットワーク リンクを作成する

1. ポータルの検索バーの検索テキストボックスで「**プライベート DNS ゾーン**」と入力し、その結果から [プライベート DNS ゾーン] を選択します。

1. **[contoso.com]** を選択します。

1. **[+ 仮想ネットワーク リンク]** を選択します

1. **[+ 追加]** を選択します。

1. [仮想ネットワーク リンクの作成] の **[基本]** タブで、次の表に示すように情報を入力します。

    | プロパティ | 値    |
    |:---------|:---------|
    |リンク名|**app-vnet-link**|
    |仮想ネットワーク|**app-vnet**|
    |自動登録を有効にする|**Enabled**|

1. **[OK]** を選択します。

### DNS レコード セットを作成する

1. ポータルの検索バーの検索テキストボックスで「**プライベート DNS ゾーン**」と入力し、その結果から [プライベート DNS ゾーン] を選択します。

1. **[contoso.com]** を選択します。

1. **[+ レコード セット]** を選択します。

1. [レコード セットの作成] の **[基本]** タブで、次の表に示すように情報を入力します。

    | プロパティ | 値    |
    |:---------|:---------|
    |名前|**backend**|
    |Type|**A**|
    |TTL|**1**|
    |IP アドレス (IP address)|**10.1.1.4**|


1. **[OK]** を選択します。

1. **contoso.com** に **backend** というレコード セットがあることを確認します
